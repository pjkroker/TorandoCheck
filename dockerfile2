FROM maven:3.8.6-jdk-8

# Install git
RUN echo "installing git"
RUN apt-get update && apt-get install -y git

# Install build essentials
RUN echo "Installing build essentials"
RUN apt-get update && apt-get install -y build-essential

# Download and build Toradocu
RUN echo "Download and build Toradocu"
RUN git clone https://github.com/albertogoffi/toradocu.git
WORKDIR /toradocu
RUN ./gradlew shadowJar -Dhttp.socketTimeout=1800 -Dhttp.connectionTimeout=1800

WORKDIR /app
CMD ["bash"]
